<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<title>Cricket Times — Article</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700;800&family=Source+Serif+4:opsz,wght@8..60,300;8..60,400;8..60,500;8..60,600&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
html{scroll-behavior:smooth}
:root{
  --bg:#faf9f7;
  --surface:#ffffff;
  --surface2:#f5f4f2;
  --surface3:#eceae6;
  --border:#d8d4cc;
  --border2:#c8c4bc;
  --text:#1a1a18;
  --text2:#4a4a46;
  --text3:#7a7a74;
  --accent:#a03020;
  --accent-hover:#801810;
  --accent-dim:rgba(160,48,32,0.08);
  --gold:#c08018;
  --gold-dim:rgba(192,128,24,0.10);
  --green:#1a6848;
  --blue:#1a4878;
}

body{
  background:var(--bg);
  color:var(--text);
  font-family:'Source Serif 4',Georgia,serif;
  min-height:100vh;
  line-height:1.6;
}

/* ═══════════════════════════════════════════════════════════════════════════
   MASTHEAD
═══════════════════════════════════════════════════════════════════════════ */
.masthead{
  text-align:center;
  padding:20px 24px 16px;
  border-bottom:2px solid var(--text);
  position:relative;
}
.masthead-date{
  font-family:'Inter',sans-serif;
  font-size:11px;
  font-weight:500;
  letter-spacing:1.2px;
  text-transform:uppercase;
  color:var(--text3);
  margin-bottom:8px;
}
.masthead-logo{
  font-family:'Playfair Display',serif;
  font-size:clamp(36px,8vw,58px);
  font-weight:700;
  letter-spacing:-1px;
  line-height:1.1;
}
.masthead-logo a{
  color:inherit;
  text-decoration:none;
}
.masthead-logo span{
  color:var(--accent);
}
.masthead-tagline{
  font-family:'Inter',sans-serif;
  font-size:11px;
  font-weight:500;
  letter-spacing:2px;
  text-transform:uppercase;
  color:var(--text3);
  margin-top:6px;
}

/* ═══════════════════════════════════════════════════════════════════════════
   NAVIGATION
═══════════════════════════════════════════════════════════════════════════ */
.nav-bar{
  border-bottom:1px solid var(--border);
  background:var(--surface);
  position:sticky;
  top:0;
  z-index:100;
}
.nav-inner{
  max-width:1400px;
  margin:0 auto;
  padding:0 24px;
  display:flex;
  justify-content:center;
  gap:0;
}
.nav-link{
  font-family:'Inter',sans-serif;
  font-size:12px;
  font-weight:600;
  letter-spacing:0.5px;
  text-transform:uppercase;
  color:var(--text2);
  text-decoration:none;
  padding:14px 20px;
  position:relative;
  transition:color 0.2s;
}
.nav-link:hover{
  color:var(--accent);
}
.nav-link.external::after{
  content:'↗';
  font-size:10px;
  margin-left:4px;
  opacity:0.6;
}

@media(max-width:900px){
  .nav-inner{
    overflow-x:auto;
    justify-content:flex-start;
    -webkit-overflow-scrolling:touch;
    scrollbar-width:none;
  }
  .nav-inner::-webkit-scrollbar{display:none}
  .nav-link{
    white-space:nowrap;
    padding:12px 14px;
    font-size:11px;
  }
}

/* ═══════════════════════════════════════════════════════════════════════════
   ARTICLE PAGE LAYOUT
═══════════════════════════════════════════════════════════════════════════ */
.article-page{
  max-width:820px;
  margin:0 auto;
  padding:48px 24px 80px;
}

/* ─── BREADCRUMB ─── */
.breadcrumb{
  font-family:'Inter',sans-serif;
  font-size:12px;
  font-weight:500;
  color:var(--text3);
  margin-bottom:32px;
  display:flex;
  align-items:center;
  gap:8px;
}
.breadcrumb a{
  color:var(--accent);
  text-decoration:none;
}
.breadcrumb a:hover{
  text-decoration:underline;
}
.breadcrumb svg{
  width:14px;
  height:14px;
  stroke:var(--text3);
  fill:none;
  stroke-width:2;
}

/* ─── ARTICLE HEADER ─── */
.article-header{
  margin-bottom:40px;
  padding-bottom:32px;
  border-bottom:1px solid var(--border);
}
.article-category{
  font-family:'Inter',sans-serif;
  font-size:11px;
  font-weight:700;
  letter-spacing:1.5px;
  text-transform:uppercase;
  color:var(--accent);
  margin-bottom:16px;
  display:inline-block;
}
.article-headline{
  font-family:'Playfair Display',serif;
  font-size:clamp(30px,5vw,46px);
  font-weight:700;
  line-height:1.15;
  letter-spacing:-0.5px;
  margin-bottom:20px;
  color:var(--text);
}
.article-summary{
  font-size:20px;
  line-height:1.6;
  color:var(--text2);
  margin-bottom:24px;
  font-style:italic;
}
.article-hero-image{
  width:100%;
  aspect-ratio:16/9;
  object-fit:cover;
  border-radius:4px;
  margin-bottom:24px;
  background:var(--surface3);
  display:flex;
  align-items:center;
  justify-content:center;
  color:rgba(0,0,0,0.15);
  font-family:'Inter',sans-serif;
  font-size:13px;
}

/* ─── ARTICLE META ─── */
.article-meta{
  display:flex;
  align-items:center;
  gap:20px;
  font-family:'Inter',sans-serif;
  font-size:13px;
  color:var(--text3);
  flex-wrap:wrap;
}
.article-author-block{
  display:flex;
  align-items:center;
  gap:12px;
}
.author-avatar{
  width:44px;
  height:44px;
  border-radius:50%;
  background:linear-gradient(135deg,var(--accent),#c08018);
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:16px;
  font-weight:700;
  color:#fff;
  flex-shrink:0;
}
.author-info{
  display:flex;
  flex-direction:column;
}
.author-name{
  font-weight:700;
  color:var(--text);
  font-size:14px;
}
.author-role{
  font-size:12px;
  color:var(--text3);
}
.meta-separator{
  width:1px;
  height:20px;
  background:var(--border);
}
.meta-item{
  display:flex;
  align-items:center;
  gap:6px;
}
.meta-item svg{
  width:15px;
  height:15px;
  stroke:var(--text3);
  fill:none;
  stroke-width:2;
}

/* ─── ARTICLE BODY ─── */
.article-body{
  font-size:19px;
  line-height:1.8;
  color:var(--text);
}
.article-body p{
  margin-bottom:24px;
}
.article-body h2{
  font-family:'Playfair Display',serif;
  font-size:28px;
  font-weight:700;
  margin:40px 0 16px;
  color:var(--text);
}
.article-body h3{
  font-family:'Playfair Display',serif;
  font-size:22px;
  font-weight:600;
  margin:32px 0 14px;
  color:var(--text);
}
.article-body blockquote{
  border-left:3px solid var(--accent);
  padding:16px 0 16px 24px;
  margin:32px 0;
  font-style:italic;
  font-size:21px;
  line-height:1.6;
  color:var(--text2);
}
.article-body ul,
.article-body ol{
  margin:0 0 24px 28px;
}
.article-body li{
  margin-bottom:10px;
}
.article-body strong{
  font-weight:600;
}
.article-body a{
  color:var(--accent);
  text-decoration:underline;
  text-underline-offset:3px;
}
.article-body a:hover{
  color:var(--accent-hover);
}

/* ─── DROP CAP ─── */
.article-body .first-paragraph::first-letter{
  font-family:'Playfair Display',serif;
  font-size:72px;
  font-weight:700;
  float:left;
  line-height:0.8;
  margin:6px 12px 0 0;
  color:var(--accent);
}

/* ─── ARTICLE FOOTER / TAGS ─── */
.article-footer{
  margin-top:48px;
  padding-top:32px;
  border-top:1px solid var(--border);
}
.article-tags{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  margin-bottom:32px;
}
.article-tag{
  font-family:'Inter',sans-serif;
  font-size:11px;
  font-weight:600;
  letter-spacing:0.5px;
  text-transform:uppercase;
  padding:6px 14px;
  background:var(--surface2);
  border:1px solid var(--border);
  border-radius:4px;
  color:var(--text2);
  text-decoration:none;
  transition:all 0.15s;
}
.article-tag:hover{
  background:var(--accent-dim);
  border-color:var(--accent);
  color:var(--accent);
}

/* ─── RELATED ARTICLES ─── */
.related-section{
  margin-top:48px;
}
.related-title{
  font-family:'Inter',sans-serif;
  font-size:10px;
  font-weight:700;
  letter-spacing:1.8px;
  text-transform:uppercase;
  color:var(--text3);
  padding-bottom:12px;
  border-bottom:2px solid var(--accent);
  margin-bottom:24px;
}
.related-grid{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:24px;
}
.related-card{
  text-decoration:none;
  color:inherit;
  transition:transform 0.2s;
}
.related-card:hover{
  transform:translateY(-3px);
}
.related-card-image{
  width:100%;
  aspect-ratio:16/10;
  border-radius:4px;
  margin-bottom:12px;
  background:var(--surface3);
}
.related-card-category{
  font-family:'Inter',sans-serif;
  font-size:10px;
  font-weight:700;
  letter-spacing:1px;
  text-transform:uppercase;
  color:var(--gold);
  margin-bottom:6px;
}
.related-card-headline{
  font-family:'Playfair Display',serif;
  font-size:16px;
  font-weight:600;
  line-height:1.35;
  margin-bottom:6px;
}
.related-card:hover .related-card-headline{
  color:var(--accent);
}
.related-card-meta{
  font-family:'Inter',sans-serif;
  font-size:11px;
  color:var(--text3);
}

@media(max-width:700px){
  .related-grid{
    grid-template-columns:1fr;
    gap:20px;
  }
  .article-meta{
    flex-direction:column;
    align-items:flex-start;
    gap:12px;
  }
  .meta-separator{display:none}
}

/* ─── NO ARTICLE / ERROR STATE ─── */
.article-not-found{
  text-align:center;
  padding:100px 24px;
}
.article-not-found h2{
  font-family:'Playfair Display',serif;
  font-size:36px;
  font-weight:700;
  margin-bottom:16px;
}
.article-not-found p{
  font-size:18px;
  color:var(--text2);
  margin-bottom:32px;
}
.article-not-found a{
  font-family:'Inter',sans-serif;
  font-size:14px;
  font-weight:600;
  color:var(--accent);
  text-decoration:none;
  padding:12px 28px;
  border:2px solid var(--accent);
  border-radius:6px;
  transition:all 0.15s;
  display:inline-block;
}
.article-not-found a:hover{
  background:var(--accent);
  color:#fff;
}

/* ═══════════════════════════════════════════════════════════════════════════
   FOOTER
═══════════════════════════════════════════════════════════════════════════ */
.footer{
  background:var(--text);
  color:rgba(255,255,255,0.7);
  padding:48px 24px 32px;
}
.footer-inner{
  max-width:1400px;
  margin:0 auto;
}
.footer-top{
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  padding-bottom:32px;
  border-bottom:1px solid rgba(255,255,255,0.1);
  margin-bottom:24px;
}
.footer-brand{
  font-family:'Playfair Display',serif;
  font-size:28px;
  font-weight:700;
  color:#fff;
}
.footer-nav{
  display:flex;
  gap:32px;
}
.footer-nav a{
  font-family:'Inter',sans-serif;
  font-size:12px;
  font-weight:500;
  color:rgba(255,255,255,0.6);
  text-decoration:none;
}
.footer-nav a:hover{color:#fff}

.footer-bottom{
  font-family:'Inter',sans-serif;
  font-size:11px;
  color:rgba(255,255,255,0.4);
  display:flex;
  justify-content:space-between;
}

@media(max-width:900px){
  .footer-top{
    flex-direction:column;
    gap:24px;
  }
  .footer-nav{
    flex-wrap:wrap;
    gap:16px;
  }
  .footer-bottom{
    flex-direction:column;
    gap:8px;
  }
}
</style>
</head>
<body>

<!-- ═══════════════════════════════════════════════════════════════════════════
     MASTHEAD
═══════════════════════════════════════════════════════════════════════════ -->
<header class="masthead">
  <div class="masthead-date">Friday, February 27, 2026</div>
  <h1 class="masthead-logo"><a href="news.html">Cricket <span>Times</span></a></h1>
  <div class="masthead-tagline">The Definitive Voice of Test Cricket</div>
</header>

<!-- ═══════════════════════════════════════════════════════════════════════════
     NAVIGATION
═══════════════════════════════════════════════════════════════════════════ -->
<nav class="nav-bar">
  <div class="nav-inner">
    <a href="news.html" class="nav-link">Stories</a>
    <a href="news.html#analysis" class="nav-link">Analysis</a>
    <a href="country-results.html" class="nav-link external">Countries</a>
    <a href="batting-records.html" class="nav-link external">Batting</a>
    <a href="#" class="nav-link">Bowling</a>
    <a href="index.html" class="nav-link external">Compare</a>
    <a href="simulation.html" class="nav-link external">Simulation</a>
    <a href="#" class="nav-link">Share</a>
  </div>
</nav>

<!-- ═══════════════════════════════════════════════════════════════════════════
     ARTICLE CONTENT (populated by JS)
═══════════════════════════════════════════════════════════════════════════ -->
<div id="articleContainer"></div>

<!-- ═══════════════════════════════════════════════════════════════════════════
     FOOTER
═══════════════════════════════════════════════════════════════════════════ -->
<footer class="footer">
  <div class="footer-inner">
    <div class="footer-top">
      <div class="footer-brand">Cricket Times</div>
      <nav class="footer-nav">
        <a href="news.html">Stories</a>
        <a href="news.html#analysis">Analysis</a>
        <a href="country-results.html">Countries</a>
        <a href="batting-records.html">Batting</a>
        <a href="#">Bowling</a>
        <a href="index.html">Compare</a>
        <a href="simulation.html">Simulation</a>
        <a href="#">About</a>
        <a href="#">Contact</a>
      </nav>
    </div>
    <div class="footer-bottom">
      <span>© 2026 Cricket Times. All rights reserved.</span>
      <span>Statistics powered by comprehensive Test cricket databases</span>
    </div>
  </div>
</footer>

<script>
// ═══════════════════════════════════════════════════════════════════════════
// DYNAMIC DATE
// ═══════════════════════════════════════════════════════════════════════════
const dateEl = document.querySelector('.masthead-date');
const now = new Date();
dateEl.textContent = now.toLocaleDateString('en-US', { weekday:'long', year:'numeric', month:'long', day:'numeric' });

// ═══════════════════════════════════════════════════════════════════════════
// LOAD ARTICLE FROM LOCALSTORAGE
// ═══════════════════════════════════════════════════════════════════════════
(function() {
  const container = document.getElementById('articleContainer');
  const params = new URLSearchParams(window.location.search);
  const articleId = parseInt(params.get('id'));

  // Load CMS data
  let cmsData;
  try {
    const raw = localStorage.getItem('cricketTimesCMS');
    if (!raw) { showNotFound(container); return; }
    cmsData = JSON.parse(raw);
  } catch(e) {
    showNotFound(container); return;
  }

  const allArticles = cmsData.articles || [];
  const article = allArticles.find(a => a.id === articleId);

  if (!article) {
    showNotFound(container);
    return;
  }

  // Set page title
  document.title = `${article.headline} — Cricket Times`;

  // Build the article content
  const categoryLabel = article.category.charAt(0).toUpperCase() + article.category.slice(1);
  const authorInitials = getInitials(article.author);
  const formattedDate = formatDate(article.date);
  const bodyHTML = renderArticleBody(article);

  // Find related articles (same category, different id)
  const related = allArticles
    .filter(a => a.id !== article.id)
    .sort((a, b) => {
      // Prioritize same category
      const aMatch = a.category === article.category ? 1 : 0;
      const bMatch = b.category === article.category ? 1 : 0;
      return bMatch - aMatch;
    })
    .slice(0, 3);

  const gradients = [
    'linear-gradient(135deg,#2a4048,#1a3038)',
    'linear-gradient(135deg,#483828,#382818)',
    'linear-gradient(135deg,#384838,#283828)',
    'linear-gradient(135deg,#3a4a5a,#2a3a48)',
    'linear-gradient(135deg,#504a40,#403a30)'
  ];

  const relatedHTML = related.length > 0 ? `
    <div class="related-section">
      <h3 class="related-title">More from Cricket Times</h3>
      <div class="related-grid">
        ${related.map((r, i) => `
          <a href="article.html?id=${r.id}" class="related-card">
            <div class="related-card-image" style="background:${gradients[i % gradients.length]};"></div>
            <div class="related-card-category">${esc(r.category.charAt(0).toUpperCase() + r.category.slice(1))}</div>
            <div class="related-card-headline">${esc(r.headline)}</div>
            <div class="related-card-meta">${esc(r.author)} • ${r.readTime} min read</div>
          </a>
        `).join('')}
      </div>
    </div>
  ` : '';

  // Category-based tags
  const tagMap = {
    news: ['Breaking News','Test Cricket','Match Report'],
    analysis: ['Deep Dive','Statistics','Data Analysis'],
    features: ['Long Read','Profile','History'],
    opinion: ['Commentary','Editorial','Debate']
  };
  const tags = tagMap[article.category] || ['Test Cricket'];

  container.innerHTML = `
    <main class="article-page">
      <!-- Breadcrumb -->
      <div class="breadcrumb">
        <a href="news.html">Home</a>
        <svg viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"/></svg>
        <a href="news.html">${esc(categoryLabel)}</a>
        <svg viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"/></svg>
        <span>Article</span>
      </div>

      <!-- Article Header -->
      <header class="article-header">
        <div class="article-category">${esc(categoryLabel)}</div>
        <h1 class="article-headline">${esc(article.headline)}</h1>
        ${article.summary ? `<p class="article-summary">${esc(article.summary)}</p>` : ''}
        
        <div class="article-hero-image" style="background:linear-gradient(135deg,#2a4a3a,#1a2a28);">
          Featured Image
        </div>

        <div class="article-meta">
          <div class="article-author-block">
            <div class="author-avatar">${esc(authorInitials)}</div>
            <div class="author-info">
              <span class="author-name">${esc(article.author)}</span>
              <span class="author-role">Cricket Times ${esc(categoryLabel)}</span>
            </div>
          </div>
          <div class="meta-separator"></div>
          <div class="meta-item">
            <svg viewBox="0 0 24 24"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
            <span>${formattedDate}</span>
          </div>
          <div class="meta-separator"></div>
          <div class="meta-item">
            <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
            <span>${article.readTime} min read</span>
          </div>
        </div>
      </header>

      <!-- Article Body -->
      <div class="article-body">
        ${bodyHTML}
      </div>

      <!-- Article Footer -->
      <div class="article-footer">
        <div class="article-tags">
          ${tags.map(t => `<a href="news.html" class="article-tag">${esc(t)}</a>`).join('')}
        </div>
        ${relatedHTML}
      </div>
    </main>
  `;
})();

// ═══════════════════════════════════════════════════════════════════════════
// HELPER FUNCTIONS
// ═══════════════════════════════════════════════════════════════════════════
function renderArticleBody(article) {
  // If article has full content, render it (supporting basic line breaks → paragraphs)
  if (article.content && article.content.trim()) {
    const paragraphs = article.content.split(/\n\n+/).filter(p => p.trim());
    return paragraphs.map((p, i) => {
      const trimmed = p.trim();
      // Check for markdown-style headers
      if (trimmed.startsWith('## ')) {
        return `<h2>${esc(trimmed.slice(3))}</h2>`;
      }
      if (trimmed.startsWith('### ')) {
        return `<h3>${esc(trimmed.slice(4))}</h3>`;
      }
      // Check for blockquote
      if (trimmed.startsWith('> ')) {
        return `<blockquote>${esc(trimmed.slice(2))}</blockquote>`;
      }
      const cls = i === 0 ? ' class="first-paragraph"' : '';
      return `<p${cls}>${esc(trimmed)}</p>`;
    }).join('\n');
  }

  // No content — generate an editorial placeholder from the summary
  const summary = article.summary || article.headline;
  return `
    <p class="first-paragraph">${esc(summary)}</p>
    <p>This story is developing. Full coverage and in-depth analysis will be published shortly as more details become available from our correspondents on the ground.</p>
    <p>Cricket Times is committed to delivering comprehensive reporting on every aspect of Test cricket. Our editorial team works around the clock to bring you the most accurate and insightful coverage of the game's oldest and most revered format.</p>
    <blockquote>Test cricket remains the ultimate examination of skill, temperament, and endurance — the truest test of a cricketer's mettle.</blockquote>
    <p>Check back soon for the complete story. In the meantime, explore our related coverage below for more context on this developing story.</p>
  `;
}

function showNotFound(container) {
  container.innerHTML = `
    <div class="article-not-found">
      <h2>Article Not Found</h2>
      <p>The article you're looking for may have been removed, or the link may be outdated.</p>
      <a href="news.html">← Back to Cricket Times</a>
    </div>
  `;
}

function esc(str) {
  if (!str) return '';
  const div = document.createElement('div');
  div.textContent = str;
  return div.innerHTML;
}

function getInitials(name) {
  if (!name) return '?';
  return name.split(/\s+/).map(w => w[0]).join('').toUpperCase().slice(0, 2);
}

function formatDate(dateStr) {
  if (!dateStr) return '';
  const d = new Date(dateStr);
  return d.toLocaleDateString('en-US', { weekday:'long', month:'long', day:'numeric', year:'numeric' });
}
</script>

</body>
</html>
